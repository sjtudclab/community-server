<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
   <meta charset="utf-8" />
   <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
   <!-- Mobile viewport optimized: h5bp.com/viewport -->
   <meta name="viewport" content="width=device-width">

   <title>房屋信息</title>

   <meta name="robots" content="noindex, nofollow">
   <meta name="description" content="MetroUI-Web : Simple and complete web UI framework to create web apps with Windows 8 Metro user interface." />
   <meta name="keywords" content="metro, metroui, metro-ui, metro ui, windows 8, metro style, bootstrap, framework, web framework, css, html" />
   <meta name="author" content="AozoraLabs by Marcello Palmitessa"/>
   
   <link rel="stylesheet" type="text/css" href="content/css/bootstrap.css">
   <link rel="stylesheet" type="text/css" href="content/css/bootstrap-responsive.css">
   <link rel="stylesheet" type="text/css" href="content/css/bootmetro.css">
   <link rel="stylesheet" type="text/css" href="content/css/bootmetro-tiles.css">
   <link rel="stylesheet" type="text/css" href="content/css/bootmetro-charms.css">
   <link rel="stylesheet" type="text/css" href="content/css/metro-ui-light.css">
   <link rel="stylesheet" type="text/css" href="content/css/icomoon.css">

   <!--  these two css are to use only for documentation -->
   <link rel="stylesheet" type="text/css" href="content/css/demo.css">
   <link rel="stylesheet" type="text/css" href="scripts/google-code-prettify/prettify.css" >

   <!-- Le fav and touch icons -->
   <link rel="shortcut icon" href="content/ico/favicon.ico">
   <link rel="apple-touch-icon-precomposed" sizes="144x144" href="content/ico/apple-touch-icon-144-precomposed.png">
   <link rel="apple-touch-icon-precomposed" sizes="114x114" href="content/ico/apple-touch-icon-114-precomposed.png">
   <link rel="apple-touch-icon-precomposed" sizes="72x72" href="content/ico/apple-touch-icon-72-precomposed.png">
   <link rel="apple-touch-icon-precomposed" href="content/ico/apple-touch-icon-57-precomposed.png">
  
<!-- For test-->
<script type="text/javascript" src="http://hq.sinajs.cn/list=sh600000,sh600001,sh600002,sh600003,sh600004,sh600005,sh600006,sh600007,sh600008,sh600009,sh600010,sh600011,sh600012,sh600013,sh600014,sh600015,sh600016,sh600017,sh600018,sh600019,sh600020,sh600021,sh600022,sh600023,sh600024,sh600025,sh600026,sh600027,sh600028,sh600029,sh600030,sh600031,sh600032,sh600033,sh600034,sh600035,sh600036,sh600037,sh600038,sh600039,sh600040,sh600041,sh600042,sh600043,sh600044,sh600045,sh600046,sh600047,sh600048,sh600049,sh600050" charset="gb2312"></script>
  
   <!-- All JavaScript at the bottom, except for Modernizr and Respond.
      Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
      For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->
   <script src="scripts/modernizr-2.6.1.min.js"></script>
   <script type="text/javascript" src="scripts/jquery-1.8.2.min.js"></script>

   <script language="javascript" type="text/javascript">
    $.extend({
     getUrlVars: function(){
       var vars = [], hash;
       var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
       for(var i = 0; i < hashes.length; i++)
       {
         hash = hashes[i].split('=');
         vars.push(hash[0]);
         vars[hash[0]] = hash[1];
       }
       return vars;
     },
     getUrlVar: function(name){
       return $.getUrlVars()[name];
     }
    });                                                                      // get message from url

    function Map() {
      var struct = function(key, value) {
        this.key = key;
        this.value = value;
      }
 
      var put = function(key, value){
        for (var i = 0; i < this.arr.length; i++) {
          if ( this.arr[i].key === key ) {
            this.arr[i].value = value;
          return;
          }
        }
        this.arr[this.arr.length] = new struct(key, value);
      }
 
      var get = function(key) {
        for (var i = 0; i < this.arr.length; i++) {
          if ( this.arr[i].key === key ) {
            return this.arr[i].value;
          }
        }
        return null;
      }
 
      var remove = function(key) {
        var v;
        for (var i = 0; i < this.arr.length; i++) {
          v = this.arr.pop();
          if ( v.key === key ) {
            continue;
          }
          this.arr.unshift(v);
        }
      }
 
      var size = function() {
        return this.arr.length;
      }
 
      var isEmpty = function() {
        return this.arr.length <= 0;
      } 
      this.arr = new Array();
      this.get = get;
      this.put = put;
      this.remove = remove;
      this.size = size;
      this.isEmpty = isEmpty;
    }

    $(function (){    
      var initializationTime=(new Date()).getTime();
      var manager_name = "admin";
      showLeftTime();
      function showLeftTime()
      {
        var now=new Date();
        var year=now.getFullYear();
        var month=now.getMonth();
        var day=now.getDate();
        var hours=now.getHours();
        var minutes=now.getMinutes();
        var seconds=now.getSeconds();
        var timetable = ""+year+"年"+month+"月"+day+"日 ";
        if (hours < 10) 
          timetable += "0" + hours + ":";
        else
          timetable += hours + ":";
        if (minutes < 10)
          timetable += "0" + minutes + ":";
        else
          timetable += minutes + ":";
        if (seconds < 10)
          timetable += "0" + seconds + "";
        else
          timetable += seconds + "";
      
        document.all.showtime.innerHTML = timetable;
        var timeID=setTimeout(showLeftTime,1000);
      }
    })

    var arr1 = new Array();
    var arr2 = new Array();
    var arr3 = new Array();
    var arr4 = new Array();
    var arr5 = new Array();
    var arr6 = new Array();
    var arr7 = new Array();
    var arr8 = new Array();
    var arr9 = new Array();
    var arr10 = new Array();
    var flag = 0;
    getData();
    setTimeout("buildTable()",1000);
    setTimeout("searchListener()",1000);


    function getData()
    {   
        addToArray(hq_str_sh600000, "sh600000");
        addToArray(hq_str_sh600004, "sh600004");
        addToArray(hq_str_sh600005, "sh600005");
        addToArray(hq_str_sh600006, "sh600006");
        addToArray(hq_str_sh600007, "sh600007");
        addToArray(hq_str_sh600008, "sh600008");
        addToArray(hq_str_sh600009, "sh600009");
        addToArray(hq_str_sh600010, "sh600010");
        addToArray(hq_str_sh600011, "sh600011");
        addToArray(hq_str_sh600012, "sh600012");
        addToArray(hq_str_sh600015, "sh600015");
        addToArray(hq_str_sh600016, "sh600016");
        addToArray(hq_str_sh600017, "sh600017");
        addToArray(hq_str_sh600018, "sh600018");
        addToArray(hq_str_sh600019, "sh600019");
        addToArray(hq_str_sh600020, "sh600020");
        addToArray(hq_str_sh600021, "sh600021");
        addToArray(hq_str_sh600022, "sh600022");
        addToArray(hq_str_sh600023, "sh600023");
        addToArray(hq_str_sh600026, "sh600026");
        addToArray(hq_str_sh600027, "sh600027");
        addToArray(hq_str_sh600028, "sh600028");
        addToArray(hq_str_sh600029, "sh600029");
        addToArray(hq_str_sh600030, "sh600030");
        addToArray(hq_str_sh600031, "sh600031");
    }

    function showTable(tid)
    {
      var state = document.getElementById(tid).style.display;
      if ( state == "none" )
        document.getElementById(tid).style.display = "block";
      else
       document.getElementById(tid).style.display = "none";
    }

    function addToArray(data, s_name)
    {
      var element = data.split(',');
      arr1.push(s_name);
      arr2.push(element[0]);
      arr3.push(element[1]);
      arr4.push(element[2]);
      arr5.push(element[3]);
      arr6.push(element[4]);
      arr7.push(element[5]);
      var flo = parseFloat(element[3])/parseFloat(element[2]) - 1;
      var flo2 = flo.toFixed(4);
      var flo_ans = flo2.slice(2,4) + "." + flo2.slice(4,6) + "%";
      if (parseFloat(element[3]) < parseFloat(element[2]))
        flo_ans = "-" + flo_ans;
      arr8.push(flo_ans);
      arr9.push(element[8]);
      arr10.push(element[9]);
    }

    function buildTable()
    {
      if (arr1.length == 0)
        document.all.detail_0.style.display = "block";
      else
      {
        var i; var node; var j;
        var make_html;

        for (i = 0; i < arr1.length; i++)
        {
          node = document.createElement("div");
          j = i + 1;
          node.style = "overflow:hidden;border:0";
          node.innerHTML =   "<div id=\"detail_"+j.toString()+"\" class=\"row show-grid\" style=\"display:block\">"
                          +  "<div class=\"span9\">"
                          +  "<table style=\"width: 100%; height:40px\" border=\"0\">"
                          +  "<tr>"
                          +  "<th style=\"width:25%\">"
                          +  "<h4>证券代码：</h4>"     
                          +  " </th> "
                          +  "<th style=\"width:25%\">"
                          +  "<h4 id=\"detail_"+j.toString()+"_p1\">"+arr1[i]+"</h4>"    
                          +  "</th>"
                          +  "<th style=\"width:25%\">"
                          +  "<h4>证券名称：</h4>"     
                          +  "</th>"
                          +  "<th style=\"width:20%\">"
                          +  "<h4 id=\"detail_"+j.toString()+"_p2\">"+arr2[i]+"</h4>"     
                          +  "</th>"  
                          +  "<th style=\"width:5%\">"
                          +  "<b class=\"caret\" style=\"color:red\" onclick = \"showTable('detail_"+j.toString()+"_other')\"></b>"
                          +  "</th>"
                          +  "</tr>"
                          +  "</table>"
                          +  "</div>"
                          +  "</div>";
          node.innerHTML +=  "<div id=\"detail_"+j.toString()+"_other\" class=\"row show-grid\" style=\"display:none; margin-top:0px\">"
                          +  "<div class=\"span9\">"  
                          +  "<table width=\"100%\" border=\"1\">"
                          +  "<tr>"
                          +  "<th style=\"width:20%\">今开：</th>"  
                          +  "<th style=\"width:10%\">"+arr3[i]+"</th>"  
                          +  "<th style=\"width:20%\">昨收：</th>"
                          +  "<th style=\"width:10%\">"+arr4[i]+"</th>"
                          +  "<th style=\"width:20%\">现价：</th>"  
                          +  "<th style=\"width:20%\">"+arr5[i]+"</th>" 
                          +  "</tr>"
                          +  "<tr>"
                          +  "<th>最高：</th>"
                          +  "<th>"+arr6[i]+"</th>" 
                          +  "<th>最低：</th>"
                          +  "<th>"+arr7[i]+"</th>"
                          +  "<th>涨幅：</th>"
                          +  "<th>"+arr8[i]+"</th>"
                          +  "</tr>"
                          +  "<tr>"
                          +  "<th colspan=\"2\">成交量：</th>  "
                          +  "<th>"+arr9[i]+"</th>"
                          +  "<th colspan=\"2\">成交额：</th>"
                          +  "<th>"+arr10[i]+"</th>"  
                          +  "</tr>"
                          +  "</table>"
                          +  "</div>"
                          +  "</div>";

          document.getElementById("add_point").appendChild(node);
        }
      }
    }

    function searchListener()
    {
      var str = document.getElementById("search").value;
      if (str != "")
        getSearchAnswer(str);
      else if (flag == 1)
      {
        rebuildTable();
        flag = 0;
      }
      var listen = setTimeout(searchListener,2000);
    }

    function rebuildTable()
    {
      var i,j;
      document.getElementById("detail_0").style.display = "none";
      for (i = 1; i<arr1.length+1; i++)
      {
          document.getElementById("detail_" + i.toString()).style.display = "block";
          document.getElementById("detail_" + i.toString() + "_other").style.display = "none";
          document.getElementById("detail_" + i.toString() + "_p1").innerHTML = arr1[i-1];
          document.getElementById("detail_" + i.toString() + "_p2").innerHTML = arr2[i-1]; 
      }
    }

    function getSearchAnswer(str)
    { 
      var i,j;
      rebuildTable();
      j = 0;
      for (i = 1; i<arr1.length+1; i++)
      {
          if ((arr1[i-1].indexOf(str)) < 0 && (arr2[i-1].indexOf(str) < 0))
            document.getElementById("detail_" + i.toString()).style.display = "none";
          else
            j++;
      }
      if (j == 0)
        document.getElementById("detail_0").style.display = "block";
      flag = 1;
    }

  </script>
  


</head>

<body data-accent="blue">
  <header id="nav-bar" class="container-fluid" >
      <div class="row-fluid">
         <div class="span8">
            <div id="header-container">
               <a id="backbutton" class="win-backbutton" href="index.html"></a>
               <h4 id="showtime" style="color:black;">显示时间的位置</h4>
               <div class="dropdown">
                  <a class="header-dropdown dropdown-toggle accent-color" data-toggle="dropdown" href="#" id = "showRoom">
                     房屋信息
                     <b class="caret"></b>
                  </a>
            </div>
            </div>
         </div>

         <div id="top-info" class="pull-right">
         <a href="#" class="pull-left">
            <div class="top-info-block">
               <h3 id = "showname">Admin</h3>
               <h4 id = "showdescription">admin</h4>
            </div>
            <div class="top-info-block">
               <b class="icon-user"></b>
            </div>
         </a>
         <hr class="separator pull-left"/>
         <a id="settings" class="pull-left" href="#">
            <b class="icon-settings"></b>
         </a>
         </div>
      </div>
  </header>
   
  <div class="container">
    <div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
          <li>信息过滤</li>
          <li><input id="search" type="text" value=""></li>
        </ul>
      </div>
      <div class="span9">
        <section id="global">
          <div id="add_point" border = "0">

            <div id="detail_0" style="margin-top:0px; display:none">
              <table style="width: 100%; height:40px" border="0" >
                <tr><h3>没有查询到的数据</h3></tr>
              </table>
            </div>
<!-- example -->
            <div id="detail_1" class="span9" style="margin-top:20px; display:block">
              <table style="width: 100%; height:40px" border="1" >
                <tr>
                <th style="width:25%">
                  <h4>证券代码：</h4>     
                </th> 
                <th style="width:25%">
                  <h4>sh.600000</h4>     
                </th>
                <th style="width:25%">
                  <h4>证券名称：</h4>     
                </th>
                <th style="width:20%">
                  <h4>浦发银行</h4>     
                </th>  
                <th style="width:5%">
                  <b class="caret" style="color:red" onclick = "showTable('detail_1_other')"></b>
                </th>
                </tr>
              </table>
            </div>

            <div id="detail_1_other" class="span9" style="display:none">  
              <table width="100%" border="1">
                <tr>
                  <th style="width:20%">今开：</th>  
                  <th style="width:10%">15.19</th>  
                  <th style="width:20%">昨收：</th>
                  <th style="width:10%">15.12</th>
                  <th style="width:20%">现价：</th>  
                  <th style="width:20%">15.29</th> 
                </tr>
                <tr>
                  <th style="width:20%">最高：</th>  
                  <th style="width:10%">15.80</th>  
                  <th style="width:20%">最低：</th>
                  <th style="width:10%">15.08</th>
                  <th style="width:20%">涨幅：</th>
                  <th style="width:20%">1.12%</th>
                </tr>
                <tr>
                  <th colspan="2">成交量：</th>  
                  <th>440178379</th>  
                  <th colspan="2">成交额：</th>
                  <th >6789040866</th>   
                </tr>
              </table>
            </div> 

          </div> 
             
        </section>
      </div>
    </div>
  </div>
   <div id="charms" class="win-ui-dark">
      <div id="theme-charms-section" class="charms-section">
         <div class="charms-header">
            <a href="#" class="close-charms win-command">
               <span class="win-commandimage win-commandring">&#xe05d;</span>
            </a>
            <h2>Settings</h2>
         </div>
   
         <div class="row-fluid">
            <div class="span12">
   
               <form class="">
                  <label for="win-theme-select">Change theme:</label>
                  <select id="win-theme-select" class="">
                     <option value="metro-ui-semilight">Semi-Light</option>
                     <option value="metro-ui-light">Light</option>
                     <option value="metro-ui-dark">Dark</option>
                  </select>
               </form>
   
            </div>
         </div>
      </div>
   </div>

   <script type="text/javascript" src="scripts/google-code-prettify/prettify.js"></script>
   <script type="text/javascript" src="scripts/jquery.mousewheel.js"></script>
   <script type="text/javascript" src="scripts/jquery.scrollTo.js"></script>
   <script type="text/javascript" src="scripts/bootstrap.min.js"></script>
   <script type="text/javascript" src="scripts/bootmetro.js"></script>
   <script type="text/javascript" src="scripts/bootmetro-charms.js"></script>
   <script type="text/javascript" src="scripts/demo.js"></script>
   <script type="text/javascript" src="scripts/holder.js"></script>

   <script type="text/javascript">
      $(".metro").metro();
   </script>
</body>
</html>
