<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="product" content="Metro UI CSS Framework">
    <meta name="description" content="Simple responsive css framework">
    <meta name="author" content="Sergey S. Pimenov, Ukraine, Kiev">

    <link href="css/metro-bootstrap.css" rel="stylesheet">
    <link href="css/metro-bootstrap-responsive.css" rel="stylesheet">
    <link href="css/iconFont.css" rel="stylesheet">
    <link href="css/docs.css" rel="stylesheet">
    <link href="js/prettify/prettify.css" rel="stylesheet">

    <!-- Load JavaScript Libraries -->
    <script src="js/jquery/jquery.min.js"></script>
    <script src="js/jquery/jquery.widget.min.js"></script>
    <script src="js/jquery/jquery.mousewheel.js"></script>
    <script src="js/prettify/prettify.js"></script>

    <!-- Metro UI CSS JavaScript plugins -->
    <script src="js/load-metro.js"></script>

    <!-- Local JavaScript -->

    <!-- Local JavaScript -->
    <script src="js/common.js"></script>
    
</head>
<body>
<title>list favorite</title>
</head>
<body class="metro">
    <header class="bg-dark" data-load="header.html"></header>
    <div class="container">
       <h1>
       	<a href="start-screen-resident.html"><i class="icon-arrow-left-3 fg-darker smaller"></i></a>
			左邻右舍
       </h1>
       <div class="spexample">
       	 <nav class="horizontal-menu">
    		<ul>
    			<li><a href=# id="myfriends">我关注的人</a></li>
    			<li><a href=# id="myfans">关注我的人</a></li>
    			<li><a href=# id="all">所有人</a></li>
    		</ul>
    	   </nav>
    	</div>
    	<div class="spexample">
    		<span id="friend"></span>
    		<span id="fan"></span>
    	</div>
    	<div class="spexample">
    		<span id="build"></span>
    	</div>
    	<div class="spexample">
    		<span id="room"></span>
    	</div>
	</div>
	    <script type="text/javascript">
	$(document).ready(function(){
	$("#myfriends").click(function(){
	$("#fan").empty();
	$("#room").empty();
	$("#build").empty();
	var content = "1";			//匹配为登陆人员
        $.ajax({
            type: "GET",
            url: "rest/fsrelation/" + content,
            dataType: "json",
            success: function(data) {
            	$('#friend').empty();
                $.each(data,function(commentIndex, comment) {
                	var dbf = "<div class=\"listsmall\">";
                	var image = "<img src=\"images/default.jpg\" class=\"cycle\" style=\"width: 120px; height:120px;\">";
                	var daf = "</div>";
                	var href = "<a href=\"mailbox.html#1\">发信息</a>";
                    $('#friend').append(dbf+image + "<p>"+comment.passp+"</p>"+href+daf); 
                    //var u = "mailbox.html#" + comment.passp;
                    //$('#connect').append("<a href=" + u +">发信息</a>");
                })
            },//success
        });//ajax
        });//myfriends onclick
    $("#myfans").click(function(){
    $("#room").empty();
    $("#friend").empty();
    $("#build").empty();
	var content = "1";			//匹配为登陆人员
        $.ajax({
            type: "GET",
            url: "rest/fsrelation/se/" + content,
            dataType: "json",
            success: function(data) {
            	$('#fan').empty();
                $.each(data,function(commentIndex, comment) {
                	var dbf = "<div class=\"listsmall\">";
                	var image = "<img src=\"images/default.jpg\" class=\"cycle\" style=\"width: 120px; height:120px;\">";
                	var daf = "</div>";
                	var href = "<a href=\"mailbox.html#1\">发信息</a>";
                    $('#fan').append(dbf+image + "<p>"+comment.actp+"</p>"+href+daf); 
                    //var u = "mailbox.html#" + comment.passp;
                    //$('#connect').append("<a href=" + u +">发信息</a>");
                })
            },//success
        });//ajax
        });//myfriends onclick
        $("#all").click(function(){
        	$("#fan").empty();
			$("#friend").empty();
        	var buildingid = "";
        	var num = "";
        	$.ajax({
            	type: "GET",
	            url: "rest/buildings",
    	        dataType: "json",
        	    success: function(data) {
            		$('#build').empty();
                	$.each(data,function(commentIndex, comment) {
                		var bts = "<button class=\"primary\" id=\"b" + comment.id + "\" >";
                		num = comment.id;
	                	var bte = "</button>";
            	        $('#build').append(bts+comment.name+bte); 
                	})
	            },//success
    	    });//ajax
    	     $("body").on("click", "#b1", function(){
    	    	$.ajax({
            		type: "GET",
	            	url: "rest/buildings/1/apartments",
    	        	dataType: "json",
        	    	success: function(data) {
            			$('#room').empty();
                		$.each(data,function(commentIndex, comment) {
                			//var rms = "<button class=\"shortcut primary\">";
	                		//var rme = "</button>";
	                		var dbf = "<div class=\"listsmall\">";
		                	var image = "<img src=\"images/default.jpg\" class=\"cycle\" style=\"width: 120px; height:120px;\">";
    		            	var daf = "</div>";
        		        	var href = "<a href=#>添加关注</a>";
        	    	        $('#room').append(dbf+image + "<p>"+comment.resident+"</p>"+href+daf); 
            	        	//$('#room').append(rms+comment.resident+rme); 
                		})
	            	},//success
    	    	});//ajax
    	    });//button onclick
    	    $("body").on("click", "#b2", function(){
    	    	$.ajax({
            		type: "GET",
	            	url: "rest/buildings/2/apartments",
    	        	dataType: "json",
        	    	success: function(data) {
            			$('#room').empty();
                		$.each(data,function(commentIndex, comment) {
                			/*var rms = "<button class=\"shortcut primary\" id=\"c" + comment.id + "\">";
	                		var rme = "</button>";
            	        	$('#room').append(rms+comment.serialNumber+rme);*/ 
            	        	var dbf = "<div class=\"listsmall\">";
		                	var image = "<img src=\"images/default.jpg\" class=\"cycle\" style=\"width: 120px; height:120px;\">";
    		            	var daf = "</div>";
        		        	var href = "<a href=#>添加关注</a>";
        	    	        $('#room').append(dbf+image + "<p>"+comment.resident+"</p>"+href+daf); 
                		})
	            	},//success
    	    	});//ajax
    	    });//button onclick
    	    $("body").on("click", "#b3", function(){
    	    	$.ajax({
            		type: "GET",
	            	url: "rest/buildings/3/apartments",
    	        	dataType: "json",
        	    	success: function(data) {
            			$('#room').empty();
                		$.each(data,function(commentIndex, comment) {
                			/*var rms = "<button class=\"shortcut primary\" id=\"c" + comment.id + "\">";
	                		var rme = "</button>";
            	        	$('#room').append(rms+comment.serialNumber+rme); */
            	        	var dbf = "<div class=\"listsmall\">";
		                	var image = "<img src=\"images/default.jpg\" class=\"cycle\" style=\"width: 120px; height:120px;\">";
    		            	var daf = "</div>";
        		        	var href = "<a href=#>添加关注</a>";
        	    	        $('#room').append(dbf+image + "<p>"+comment.resident+"</p>"+href+daf); 
                		})
	            	},//success
    	    	});//ajax
    	    });//button onclick
    	    $("body").on("click", "#b4", function(){
    	    	$.ajax({
            		type: "GET",
	            	url: "rest/buildings/4/apartments",
    	        	dataType: "json",
        	    	success: function(data) {
            			$('#room').empty();
                		$.each(data,function(commentIndex, comment) {
                			/*var rms = "<button class=\"shortcut primary\" id=\"c" + comment.id + "\">";
	                		var rme = "</button>";
            	        	$('#room').append(rms+comment.serialNumber+rme); */
            	        	var dbf = "<div class=\"listsmall\">";
		                	var image = "<img src=\"images/default.jpg\" class=\"cycle\" style=\"width: 120px; height:120px;\">";
    		            	var daf = "</div>";
        		        	var href = "<a href=#>添加关注</a>";
        	    	        $('#room').append(dbf+image + "<p>"+comment.resident+"</p>"+href+daf); 
                		})
	            	},//success
    	    	});//ajax
    	    });//button onclick
        });//all onclick
        })(jQuery);
        
      
	</script>
</body>
</html>